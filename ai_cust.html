<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½è³¼ç‰©åŠ©æ‰‹ - AIå®¢æœç³»çµ±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chat-container {
            width: 100%;
            max-width: 900px;
            height: 700px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 20px rgba(79, 172, 254, 0.3);
        }

        .ai-avatar {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .header-info h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .header-info p {
            font-size: 14px;
            opacity: 0.9;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            background: #4ade80;
            border-radius: 50%;
            margin-left: auto;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-messages {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            background: #f8fafc;
        }

        .message {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .message-content {
            max-width: 70%;
            padding: 15px 20px;
            border-radius: 20px;
            font-size: 14px;
            line-height: 1.5;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .message.ai .message-content {
            background: white;
            color: #333;
            border-bottom-left-radius: 5px;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .chat-input-container {
            padding: 25px 30px;
            background: white;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .send-button {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .send-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
        }

        .send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            color: #64748b;
            font-size: 14px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #64748b;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .api-config {
            display: none; /* éš±è—APIé…ç½®å€å¡Š */
        }

        .api-config h3 {
            margin-bottom: 15px;
            color: #333;
            font-size: 16px;
        }

        .api-config input {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .api-config button {
            width: 100%;
            padding: 10px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            padding: 0 30px 20px;
            flex-wrap: wrap;
        }

        .quick-action {
            padding: 8px 16px;
            background: rgba(79, 172, 254, 0.1);
            color: #4facfe;
            border: 1px solid rgba(79, 172, 254, 0.3);
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quick-action:hover {
            background: #4facfe;
            color: white;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 100vh;
                border-radius: 0;
            }
            
            .api-config {
                position: relative;
                top: 0;
                right: 0;
                margin: 20px;
                width: calc(100% - 40px);
            }
        }
    </style>
</head>
<body>
    <div class="api-config">
        <h3>ğŸ”§ API é…ç½®</h3>
        <input type="password" id="apiKey" placeholder="è¾“å…¥æ‚¨çš„ Claude API Key">
        <button onclick="saveApiKey()">ä¿å­˜é…ç½®</button>
        <div style="margin-top: 10px; font-size: 12px; color: #64748b;">
            è·å–API Key: <a href="https://console.anthropic.com" target="_blank">console.anthropic.com</a>
        </div>
    </div>

    <div class="chat-container">
        <header class="chat-header">
            <div class="ai-avatar">ğŸ¤–</div>
            <div class="header-info">
                <h1>æ™ºèƒ½è³¼ç‰©åŠ©æ‰‹</h1>
                <p>æ‚¨çš„å°ˆå±¬AIå®¢æœï¼Œéš¨æ™‚ç‚ºæ‚¨æœå‹™</p>
            </div>
            <div class="status-indicator"></div>
        </header>

        <div class="quick-actions">
            <div class="quick-action" onclick="showApiTest()">ğŸ”§ æ¸¬è©¦API</div>
            <div class="quick-action" onclick="sendQuickMessage('æˆ‘æƒ³æŸ¥çœ‹ç†±é–€å•†å“')">ğŸ”¥ ç†±é–€å•†å“</div>
            <div class="quick-action" onclick="sendQuickMessage('å¹«æˆ‘æŸ¥è©¢è¨‚å–®ç‹€æ…‹')">ğŸ“¦ è¨‚å–®æŸ¥è©¢</div>
            <div class="quick-action" onclick="sendQuickMessage('æˆ‘éœ€è¦é€€æ›è²¨æœå‹™')">ğŸ”„ é€€æ›è²¨</div>
            <div class="quick-action" onclick="sendQuickMessage('æ¨è–¦é©åˆæˆ‘çš„å•†å“')">ğŸ’¡ å•†å“æ¨è–¦</div>
            <div class="quick-action" onclick="sendQuickMessage('å®¢æœè¯çµ¡æ–¹å¼')">ğŸ“ è¯çµ¡å®¢æœ</div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="message ai">
                <div class="message-avatar">AI</div>
                <div class="message-content">
                    ğŸ‘‹ æ­¡è¿ä¾†åˆ°æ™ºèƒ½è³¼ç‰©åŠ©æ‰‹ï¼æˆ‘æ˜¯æ‚¨çš„å°ˆå±¬AIå®¢æœï¼Œå¯ä»¥å¹«æ‚¨ï¼š<br><br>
                    ğŸ›ï¸ å•†å“è«®è©¢èˆ‡æ¨è–¦<br>
                    ğŸ“¦ è¨‚å–®æŸ¥è©¢èˆ‡è¿½è¹¤<br>
                    ğŸ’³ ä»˜æ¬¾å•é¡Œè§£æ±º<br>
                    ğŸ”„ é€€æ›è²¨æœå‹™<br>
                    ğŸ“ äººå·¥å®¢æœè½‰æ¥<br><br>
                    
                    æœ‰ä»€éº¼å¯ä»¥å¹«åŠ©æ‚¨çš„å—ï¼Ÿ
                </div>
            </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
            <div class="message-avatar" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">AI</div>
            <span>AIæ­£åœ¨æ€è€ƒä¸­</span>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>

        <div class="chat-input-container">
            <input type="text" class="chat-input" id="messageInput" placeholder="è¼¸å…¥æ‚¨çš„å•é¡Œ..." onkeypress="handleKeyPress(event)">
            <button class="send-button" id="sendButton" onclick="sendMessage()">
                â¤
            </button>
        </div>
    </div>

    <script>
        // âš ï¸ æ³¨æ„ï¼šAPIå¯†é‘°åœ¨å‰ç«¯æ˜¯å¯è¦‹çš„ï¼Œåƒ…ä¾›æ¸¬è©¦ä½¿ç”¨
        // ç”Ÿç”¢ç’°å¢ƒè«‹ä½¿ç”¨å¾Œç«¯ä»£ç†æœå‹™
        const apiKey = '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'; // è«‹æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›APIå¯†é‘°

        // ä¿å­˜APIå¯†é‘° (å·²å…§å»ºï¼Œæ­¤å‡½æ•¸ä¿ç•™ä»¥å‚™å¾Œç”¨)
        function saveApiKey() {
            alert('âœ… APIå¯†é‘°å·²å…§å»ºåœ¨ç³»çµ±ä¸­ï¼');
        }

        // å‘é€å¿«æ·æ¶ˆæ¯
        function sendQuickMessage(message) {
            const messageInput = document.getElementById('messageInput');
            messageInput.value = message;
            sendMessage();
        }

        // å¤„ç†å›è½¦é”®
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // ç™¼é€è¨Šæ¯ï¼ˆGitHub Pages å„ªåŒ–ç‰ˆï¼‰
        async function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            
            if (!message) return;

            // é¡¯ç¤ºç”¨æˆ¶è¨Šæ¯
            addMessage(message, 'user');
            messageInput.value = '';
            
            // é¡¯ç¤ºè¼¸å…¥æŒ‡ç¤ºå™¨
            showTypingIndicator();
            
            try {
                // å‘¼å« APIï¼ˆæœƒè‡ªå‹•å›é€€åˆ°æœ¬åœ°å›æ‡‰ï¼‰
                const response = await callClaudeAPI(message);
                hideTypingIndicator();
                addMessage(response, 'ai');
            } catch (error) {
                console.error('ç™¼é€è¨Šæ¯éŒ¯èª¤:', error);
                hideTypingIndicator();
                addMessage('ç³»çµ±æ­£åœ¨è™•ç†ä¸­ï¼Œè«‹ç¨å€™...', 'ai');
                
                // å³ä½¿å‡ºéŒ¯ä¹Ÿæä¾›æœ¬åœ°å›æ‡‰
                setTimeout(async () => {
                    const fallbackResponse = getSmartResponse(message);
                    addMessage(fallbackResponse, 'ai');
                }, 1000);
            }
        }

        // âš ï¸ GitHub Pages é™åˆ¶èªªæ˜ï¼š
        // 1. HTTPS é™åˆ¶ï¼šGitHub Pages å¼·åˆ¶ HTTPSï¼Œä½†æŸäº› API å¯èƒ½æœ‰ CORS é™åˆ¶
        // 2. éœæ…‹è¨—ç®¡ï¼šç„¡æ³•é‹è¡Œå¾Œç«¯ä»£ç¢¼ï¼Œåªèƒ½ä½¿ç”¨å‰ç«¯è§£æ±ºæ–¹æ¡ˆ
        // 3. API å¯†é‘°å®‰å…¨ï¼šä¸å»ºè­°åœ¨å‰ç«¯æš´éœ²çœŸå¯¦ API å¯†é‘°

        // ç‚º GitHub Pages å„ªåŒ–çš„ API å‘¼å«å‡½æ•¸
        async function callClaudeAPI(message) {
            // é¦–å…ˆå˜—è©¦çœŸå¯¦çš„ Claude API
            if (apiKey && apiKey !== 'sk-ant-api03-your-actual-api-key-here') {
                try {
                    console.log('å˜—è©¦å‘¼å« Claude API...');
                    
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'x-api-key': apiKey,
                            'anthropic-version': '2023-06-01'
                        },
                        body: JSON.stringify({
                            model: 'claude-3-5-sonnet-20241022',
                            max_tokens: 1000,
                            messages: [{
                                role: 'user',
                                content: `ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„é›»å•†AIå®¢æœåŠ©æ‰‹ã€‚è«‹ç”¨å‹å–„ã€å°ˆæ¥­çš„èªæ°£å›ç­”å®¢æˆ¶å•é¡Œã€‚å®¢æˆ¶å•é¡Œï¼š${message}

ä½ å¯ä»¥å¹«åŠ©å®¢æˆ¶ï¼š
1. å•†å“è«®è©¢å’Œæ¨è–¦
2. è¨‚å–®æŸ¥è©¢å’Œè¿½è¹¤
3. ä»˜æ¬¾å•é¡Œè§£æ±º
4. é€€æ›è²¨æ”¿ç­–èªªæ˜
5. å„ªæƒ æ´»å‹•ä»‹ç´¹
6. æŠ€è¡“æ”¯æ´
7. è½‰æ¥äººå·¥å®¢æœ

è«‹æä¾›å¯¦ç”¨ã€æº–ç¢ºçš„å›ç­”ï¼Œå¦‚æœéœ€è¦å…·é«”çš„è¨‚å–®è³‡è¨Šæˆ–å€‹äººè³‡è¨Šï¼Œè«‹æé†’å®¢æˆ¶æä¾›ç›¸é—œè³‡è¨Šã€‚è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚`
                            }]
                        })
                    });

                    if (response.ok) {
                        const data = await response.json();
                        console.log('âœ… Claude API å‘¼å«æˆåŠŸ');
                        return data.content[0].text;
                    } else {
                        throw new Error(`API éŒ¯èª¤: ${response.status}`);
                    }
                    
                } catch (error) {
                    console.warn('âš ï¸ Claude API å‘¼å«å¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°æ™ºèƒ½å›æ‡‰:', error.message);
                    // åœ¨ GitHub Pages ä¸Šï¼ŒCORS éŒ¯èª¤å¾ˆå¸¸è¦‹ï¼Œæ‰€ä»¥å›é€€åˆ°æœ¬åœ°å›æ‡‰
                }
            }

            // å›é€€åˆ°æœ¬åœ°æ™ºèƒ½å›æ‡‰ç³»çµ±ï¼ˆé©åˆ GitHub Pagesï¼‰
            console.log('ğŸ“± ä½¿ç”¨æœ¬åœ°æ™ºèƒ½å›æ‡‰ç³»çµ±');
            await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 1200));
            return getSmartResponse(message);
        }

        // æ™ºèƒ½å›æ‡‰ç³»çµ±
        function getSmartResponse(message) {
            const msg = message.toLowerCase();
            
            // å•†å“ç›¸é—œ
            if (msg.includes('ç†±é–€') || msg.includes('æ¨è–¦') || msg.includes('å•†å“')) {
                return `ğŸ›ï¸ ä»¥ä¸‹æ˜¯æˆ‘å€‘çš„ç†±é–€å•†å“æ¨è–¦ï¼š

ğŸ“± **æ™ºæ…§å‹æ‰‹æ©Ÿç³»åˆ—**
â€¢ iPhone 15 Pro - ç‰¹åƒ¹ $32,900
â€¢ Samsung Galaxy S24 - ç‰¹åƒ¹ $28,900
â€¢ å°ç±³14 - ç‰¹åƒ¹ $19,900

ğŸ’» **ç­†è¨˜å‹é›»è…¦**
â€¢ MacBook Air M3 - ç‰¹åƒ¹ $35,900
â€¢ ASUS ZenBook - ç‰¹åƒ¹ $25,900
â€¢ Lenovo ThinkPad - ç‰¹åƒ¹ $22,900

ğŸ§ **3Cé…ä»¶**
â€¢ AirPods Pro - ç‰¹åƒ¹ $7,990
â€¢ Sony WH-1000XM5 - ç‰¹åƒ¹ $9,990

âœ¨ é™æ™‚å„ªæƒ ï¼šå…¨é¤¨æ»¿$10,000å…é‹è²»ï¼Œæ»¿$20,000äº«9æŠ˜å„ªæƒ ï¼

éœ€è¦äº†è§£ç‰¹å®šå•†å“çš„è©³ç´°è³‡è¨Šå—ï¼Ÿ`;
            }
            
            // è¨‚å–®æŸ¥è©¢
            if (msg.includes('è¨‚å–®') || msg.includes('æŸ¥è©¢') || msg.includes('ç‹€æ…‹')) {
                return `ğŸ“¦ **è¨‚å–®æŸ¥è©¢æœå‹™**

è«‹æä¾›ä»¥ä¸‹è³‡è¨Šï¼Œæˆ‘ä¾†å¹«æ‚¨æŸ¥è©¢ï¼š
â€¢ è¨‚å–®ç·¨è™Ÿ
â€¢ è¨»å†Šæ‰‹æ©Ÿè™Ÿç¢¼
â€¢ æ”¶ä»¶äººå§“å

**å¸¸è¦‹è¨‚å–®ç‹€æ…‹èªªæ˜ï¼š**
ğŸŸ¢ å·²ç¢ºèªï¼šè¨‚å–®å·²ç¢ºèªï¼Œæº–å‚™å‡ºè²¨
ğŸŸ¡ é…é€ä¸­ï¼šå•†å“å·²å‡ºè²¨ï¼Œæ­£åœ¨é…é€é€”ä¸­
ğŸ”µ å·²é€é”ï¼šå•†å“å·²é€é”æŒ‡å®šåœ°å€
ğŸŸ£ å·²å®Œæˆï¼šäº¤æ˜“å®Œæˆ

æ‚¨ä¹Ÿå¯ä»¥ç™»å…¥æœƒå“¡ä¸­å¿ƒæŸ¥çœ‹è©³ç´°çš„é…é€è¿½è¹¤è³‡è¨Šã€‚`;
            }
            
            // é€€æ›è²¨
            if (msg.includes('é€€') || msg.includes('æ›') || msg.includes('é€€è²¨') || msg.includes('æ›è²¨')) {
                return `ğŸ”„ **é€€æ›è²¨æœå‹™**

**é€€è²¨æ¢ä»¶ï¼š**
â€¢ å•†å“æ”¶åˆ°å¾Œ7å¤©å…§
â€¢ å•†å“ä¿æŒåŸåŒ…è£å®Œæ•´
â€¢ æœªä½¿ç”¨ã€ç„¡æå£
â€¢ é™„ä¸ŠåŸè³¼è²·æ†‘è­‰

**é€€è²¨æµç¨‹ï¼š**
1ï¸âƒ£ å¡«å¯«ç·šä¸Šé€€è²¨ç”³è«‹è¡¨
2ï¸âƒ£ å®¢æœè¯çµ¡ç¢ºèªé€€è²¨è³‡è¨Š
3ï¸âƒ£ åŒ…è£å•†å“ä¸¦å¯„å›
4ï¸âƒ£ æ”¶åˆ°å•†å“å¾Œ3-5å€‹å·¥ä½œå¤©é€€æ¬¾

**æ›è²¨èªªæ˜ï¼š**
â€¢ åŒåƒ¹ä½å•†å“å¯ç›´æ¥æ›è²¨
â€¢ ä¸åŒåƒ¹ä½éœ€è£œå·®é¡æˆ–é€€å·®é¡

éœ€è¦å¡«å¯«é€€æ›è²¨ç”³è«‹è¡¨å—ï¼Ÿæˆ‘å¯ä»¥ç‚ºæ‚¨å°å¼•åˆ°ç›¸é—œé é¢ã€‚`;
            }
            
            // ä»˜æ¬¾ç›¸é—œ
            if (msg.includes('ä»˜æ¬¾') || msg.includes('æ”¯ä»˜') || msg.includes('åˆ·å¡') || msg.includes('è½‰å¸³')) {
                return `ğŸ’³ **ä»˜æ¬¾æ–¹å¼èˆ‡å•é¡Œè™•ç†**

**æ”¯æ´ä»˜æ¬¾æ–¹å¼ï¼š**
â€¢ ä¿¡ç”¨å¡ï¼šVisaã€MasterCardã€JCB
â€¢ è¡Œå‹•æ”¯ä»˜ï¼šApple Payã€Google Payã€Line Pay
â€¢ è¶…å•†ä»£ç¢¼ï¼š7-11ã€å…¨å®¶ã€èŠçˆ¾å¯Œ
â€¢ ATMè½‰å¸³ï¼šå„å¤§éŠ€è¡ŒATM
â€¢ è²¨åˆ°ä»˜æ¬¾ï¼šé™å°ç£æœ¬å³¶

**å¸¸è¦‹ä»˜æ¬¾å•é¡Œï¼š**
â“ åˆ·å¡å¤±æ•— â†’ æª¢æŸ¥å¡ç‰‡é¡åº¦ã€æœ‰æ•ˆæœŸé™
â“ ä»£ç¢¼éæœŸ â†’ é‡æ–°ç”¢ç”Ÿä»˜æ¬¾ä»£ç¢¼
â“ è½‰å¸³å•é¡Œ â†’ ç¢ºèªå¸³è™Ÿã€é‡‘é¡æ­£ç¢º

**å®‰å…¨ä¿éšœï¼š**
ğŸ”’ SSLåŠ å¯†å‚³è¼¸
ğŸ›¡ï¸ ç¬¬ä¸‰æ–¹æ”¯ä»˜ä¿éšœ

æœ‰é‡åˆ°ç‰¹å®šä»˜æ¬¾å•é¡Œå—ï¼Ÿè«‹è©³ç´°èªªæ˜ï¼Œæˆ‘ä¾†å”åŠ©è§£æ±ºï¼`;
            }
            
            // è¯çµ¡å®¢æœ
            if (msg.includes('å®¢æœ') || msg.includes('è¯çµ¡') || msg.includes('é›»è©±') || msg.includes('äººå·¥')) {
                return `ğŸ“ **å®¢æœè¯çµ¡æ–¹å¼**

**ç·šä¸Šå®¢æœï¼š**
â€¢ AIæ™ºèƒ½å®¢æœï¼š24å°æ™‚æœå‹™ï¼ˆå°±æ˜¯æˆ‘ï¼ï¼‰
â€¢ çœŸäººå®¢æœï¼šé€±ä¸€è‡³é€±æ—¥ 9:00-22:00

**è¯çµ¡é›»è©±ï¼š**
ğŸ“± å®¢æœå°ˆç·šï¼š02-1234-5678
ğŸ“± å…ä»˜è²»é›»è©±ï¼š0800-123-456

**å…¶ä»–è¯çµ¡æ–¹å¼ï¼š**
ğŸ“§ Emailï¼šservice@shopai.com.tw
ğŸ’¬ Lineå®˜æ–¹å¸³è™Ÿï¼š@shopai
ğŸ“ å¯¦é«”é–€å¸‚ï¼šå°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ123è™Ÿ

**å¸¸è¦‹å•é¡ŒFAQï¼š**
â€¢ å¸³è™Ÿè¨»å†Šå•é¡Œ
â€¢ å•†å“ä¿å›ºæœå‹™
â€¢ é…é€æ™‚é–“æŸ¥è©¢
â€¢ å„ªæƒ æ´»å‹•è³‡è¨Š

æ‚¨å¸Œæœ›è½‰æ¥çœŸäººå®¢æœï¼Œé‚„æ˜¯æˆ‘å¯ä»¥ç›´æ¥å”åŠ©æ‚¨è™•ç†å•é¡Œå‘¢ï¼Ÿ`;
            }
            
            // å„ªæƒ æ´»å‹•
            if (msg.includes('å„ªæƒ ') || msg.includes('æ´»å‹•') || msg.includes('æŠ˜æ‰£') || msg.includes('ä¿ƒéŠ·')) {
                return `ğŸ‰ **æœ€æ–°å„ªæƒ æ´»å‹•**

**ğŸ“… æœ¬æœˆé™å®šæ´»å‹•ï¼š**
â€¢ æ–°æœƒå“¡è¨»å†Šé€$500è³¼ç‰©é‡‘
â€¢ æ¶ˆè²»æ»¿$15,000é€ç„¡ç·šå……é›»ç›¤
â€¢ æŒ‡å®šå“ç‰Œç­†é›»85æŠ˜èµ·

**ğŸ’ æœƒå“¡å°ˆå±¬ï¼š**
â€¢ VIPæœƒå“¡äº«å…¨é¤¨9æŠ˜
â€¢ ç”Ÿæ—¥æœˆé¡å¤–8æŠ˜å„ªæƒ 
â€¢ ç©é»2å€é€æ´»å‹•

**âš¡ é™æ™‚å¿«é–ƒï¼š**
â€¢ æ¯æ—¥ä¸‹åˆ2é»æ‰‹æ©Ÿé…ä»¶5æŠ˜
â€¢ é€±æœ«å®¶é›»ç‰¹è³£æœƒ
â€¢ æœˆåº•æ¸…å€‰å¤§å‡ºæ¸…

**ğŸ¯ å³å°‡é–‹å§‹ï¼š**
â€¢ é›™11è³¼ç‰©ç¯€é ç†±ä¸­
â€¢ é»‘è‰²è³¼ç‰©ç¯€85æŠ˜é å‘Š
â€¢ å¹´çµ‚æ„Ÿè¬ç¥­ç±Œå‚™ä¸­

æƒ³äº†è§£ç‰¹å®šå•†å“çš„å„ªæƒ è³‡è¨Šå—ï¼Ÿ`;
            }
            
            // æœƒå“¡ç›¸é—œ
            if (msg.includes('æœƒå“¡') || msg.includes('è¨»å†Š') || msg.includes('ç™»å…¥') || msg.includes('å¸³è™Ÿ')) {
                return `ğŸ‘¤ **æœƒå“¡æœå‹™**

**æœƒå“¡ç­‰ç´šåˆ¶åº¦ï¼š**
ğŸ¥‰ éŠ…å¡æœƒå“¡ï¼šè¨»å†Šå³äº«ï¼Œ95æŠ˜å„ªæƒ 
ğŸ¥ˆ éŠ€å¡æœƒå“¡ï¼šå¹´æ¶ˆè²»$50,000ï¼Œ9æŠ˜å„ªæƒ 
ğŸ¥‡ é‡‘å¡æœƒå“¡ï¼šå¹´æ¶ˆè²»$100,000ï¼Œ85æŠ˜å„ªæƒ 
ğŸ’ VIPæœƒå“¡ï¼šå¹´æ¶ˆè²»$200,000ï¼Œ8æŠ˜å„ªæƒ 

**æœƒå“¡å°ˆå±¬æ¬Šç›Šï¼š**
â€¢ ç”Ÿæ—¥ç¦®åˆ¸$1,000
â€¢ å…é‹è²»å„ªæƒ 
â€¢ å°ˆå±¬å®¢æœå°ˆç·š
â€¢ æ–°å“æ¶å…ˆè³¼
â€¢ ç©é»æ›è´ˆå“

**å¿˜è¨˜å¯†ç¢¼ï¼Ÿ**
è«‹é»é¸ç™»å…¥é é¢çš„ã€Œå¿˜è¨˜å¯†ç¢¼ã€ï¼Œè¼¸å…¥è¨»å†Šemailå³å¯é‡è¨­ã€‚

**å¸³è™Ÿå•é¡Œï¼Ÿ**
â€¢ ç„¡æ³•ç™»å…¥ï¼šæª¢æŸ¥å¸³å¯†ã€ç¶²è·¯é€£ç·š
â€¢ è³‡æ–™æ›´æ–°ï¼šæœƒå“¡ä¸­å¿ƒâ†’å€‹äººè³‡æ–™
â€¢ åœç”¨å¸³è™Ÿï¼šè¯çµ¡å®¢æœè™•ç†

éœ€è¦å”åŠ©è™•ç†å¸³è™Ÿç›¸é—œå•é¡Œå—ï¼Ÿ`;
            }
            
            // é…é€ç›¸é—œ
            if (msg.includes('é…é€') || msg.includes('é‹é€') || msg.includes('ç‰©æµ') || msg.includes('åˆ°è²¨')) {
                return `ğŸšš **é…é€æœå‹™è³‡è¨Š**

**é…é€æ–¹å¼ï¼š**
â€¢ å®…é…åˆ°åºœï¼š1-3å€‹å·¥ä½œå¤©
â€¢ è¶…å•†å–è²¨ï¼š2-4å€‹å·¥ä½œå¤©
â€¢ é–€å¸‚è‡ªå–ï¼šç•¶æ—¥æˆ–æ¬¡æ—¥

**é‹è²»èªªæ˜ï¼š**
â€¢ æ»¿$999å…é‹è²»
â€¢ è¶…å•†å–è²¨$60
â€¢ å®…é…åˆ°åºœ$80
â€¢ é›¢å³¶é‹è²»å¦è¨ˆ

**é…é€æ™‚é–“ï¼š**
ğŸ•˜ é€±ä¸€è‡³é€±äº”ï¼š9:00-18:00
ğŸ•˜ é€±å…­ï¼š9:00-17:00
ğŸ•˜ é€±æ—¥åŠåœ‹å®šå‡æ—¥æš«åœé…é€

**é…é€ç‹€æ…‹è¿½è¹¤ï¼š**
ğŸ“± ç°¡è¨Šé€šçŸ¥å‡ºè²¨è³‡è¨Š
ğŸ“§ Emailé…é€é€²åº¦æ›´æ–°
ğŸ” å®˜ç¶²ç‰©æµè¿½è¹¤æŸ¥è©¢

**ç‰¹æ®Šé…é€æœå‹™ï¼š**
â€¢ æŒ‡å®šæ™‚æ®µé…é€ï¼šåŠ æ”¶$50
â€¢ æ€¥ä»¶ç•¶æ—¥é…ï¼šé™å°åŒ—å¸‚å€

æœ‰ç‰¹æ®Šé…é€éœ€æ±‚å—ï¼Ÿ`;
            }
            
            // é è¨­å›æ‡‰
            return `æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„å°ˆå±¬AIè³¼ç‰©åŠ©æ‰‹ ğŸ¤–

æˆ‘å¯ä»¥å”åŠ©æ‚¨è™•ç†ï¼š
â€¢ ğŸ›ï¸ å•†å“è«®è©¢èˆ‡æ¨è–¦
â€¢ ğŸ“¦ è¨‚å–®æŸ¥è©¢èˆ‡è¿½è¹¤  
â€¢ ğŸ’³ ä»˜æ¬¾å•é¡Œè§£æ±º
â€¢ ğŸ”„ é€€æ›è²¨æœå‹™
â€¢ ğŸ“ å®¢æœè¯çµ¡è³‡è¨Š
â€¢ ğŸ‰ å„ªæƒ æ´»å‹•æŸ¥è©¢
â€¢ ğŸ‘¤ æœƒå“¡æœå‹™èªªæ˜
â€¢ ğŸšš é…é€æœå‹™è³‡è¨Š

è«‹å‘Šè¨´æˆ‘æ‚¨éœ€è¦ä»€éº¼å”åŠ©ï¼Œæˆ‘æœƒç›¡åŠ›ç‚ºæ‚¨æœå‹™ï¼

æ‚¨ä¹Ÿå¯ä»¥é»é¸ä¸Šæ–¹çš„å¿«æ·æŒ‰éˆ•ä¾†å¿«é€Ÿé–‹å§‹è«®è©¢ã€‚`;
        }

        /* 
        ä»¥ä¸‹æ˜¯çœŸå¯¦çš„Claude APIå‘¼å«ä»£ç¢¼ï¼Œéœ€è¦å¾Œç«¯ä»£ç†æœå‹™å™¨æ‰èƒ½ä½¿ç”¨
        
        async function callClaudeAPIReal(message) {
            // ç”±æ–¼CORSé™åˆ¶ï¼Œå‰ç«¯ç„¡æ³•ç›´æ¥å‘¼å«Anthropic API
            // éœ€è¦å»ºç«‹å¾Œç«¯ä»£ç†æœå‹™å™¨ä¾†è™•ç†APIè«‹æ±‚
            
            const response = await fetch('/api/claude-proxy', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ message: message })
            });

            if (!response.ok) {
                throw new Error(`APIå‘¼å«å¤±æ•—: ${response.status} ${response.statusText}`);
            }

            const data = await response.json();
            return data.response;
        }
        */

        // æ–°å¢è¨Šæ¯åˆ°èŠå¤©è¦–çª—
        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = sender === 'ai' ? 'AI' : 'æˆ‘';
            const avatarClass = sender === 'ai' ? 'ai' : 'user';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">${text.replace(/\n/g, '<br>')}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // é¡¯ç¤ºè¼¸å…¥æŒ‡ç¤ºå™¨
        function showTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            const sendButton = document.getElementById('sendButton');
            
            indicator.style.display = 'flex';
            sendButton.disabled = true;
            
            // æ²å‹•åˆ°åº•éƒ¨
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // éš±è—è¼¸å…¥æŒ‡ç¤ºå™¨
        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            const sendButton = document.getElementById('sendButton');
            
            indicator.style.display = 'none';
            sendButton.disabled = false;
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // èšç„¦è¼¸å…¥æ¡†
            document.getElementById('messageInput').focus();
        });
    </script>
</body>
</html>
